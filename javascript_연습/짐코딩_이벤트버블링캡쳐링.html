<!DOCTYPE html>
<html>
    <head>
        <style>
            body {
                background-color: #ddd;
            }
            main {
                background-color: #ccc;
            }
            div {
                background-color: #bbb;
            }
            p {
                background-color: #aaa;
            }
            span {
                display: block;
                background-color: #888;
            }
        </style>
    </head>
    <body>
        body 영역
        <main>
            main 영역
            <div>
                div 영역
                <p>
                    p 영역
                    <span>span 영역</span>
                </p>
            </div>
        </main>
        <script>
            const $body = document.querySelector('body');
            const $main = document.querySelector('main');
            const $div = document.querySelector('div');
            const $p = document.querySelector('p');
            const $span = document.querySelector('span');

            // capturing
            $span.addEventListener('click', function() {
                console.log('capturing span 태그')
            }, true)
            $p.addEventListener('click', function() {
                console.log('capturing p 태그')
            }, true)
            $div.addEventListener('click', function() {
                console.log('capturing div 태그')
            }, true)
            $main.addEventListener('click', function() {
                console.log('capturing main 태그')
            }, true)
            $body.addEventListener('click', function() {
                console.log('capturing body 태그')
            }, true)

            // bubbling
            $span.addEventListener('click', function(event) {
                event.stopPropagation(); // stopPropagation() 메서드는 현재 이벤트가 캡처링/버블링 단계에서 더 이상 전파되지 않도록 방지합니다
                console.log('bubbling span 태그')
            }, false) // 기본값은 false로 이렇게 설정되면 bubbling, true면 capturing
            
            $p.addEventListener('click', function() {
                console.log('bubbling p 태그')
            })
            $div.addEventListener('click', function() {
                console.log('bubbling div 태그')
            })
            $main.addEventListener('click', function() {
                console.log('bubbling main 태그')
            })
            $body.addEventListener('click', function() {
                console.log('bubbling body 태그')
            })
        </script>
    </body>
</html>